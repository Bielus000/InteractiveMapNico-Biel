<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Mapa - Noctara</title>
  <link rel="stylesheet" href="css/map.css">
</head>

<body>
  <!-- Logo home button -->
  <a href="index.html" class="home-logo" aria-label="Volver al inicio">
    <img src="img/logo2.png" alt="Noctara">
  </a>

  <!-- Map container -->
  <div class="map-container">
    <svg id="mapSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080">
      <defs>
        <!-- Define las imágenes como patrones -->
        <pattern id="mapLayer1" patternUnits="userSpaceOnUse" width="1920" height="1080">
          <image href="img/map.jpeg" x="0" y="0" width="1920" height="1080" preserveAspectRatio="xMidYMid slice"/>
        </pattern>
        <pattern id="mapLayer2" patternUnits="userSpaceOnUse" width="1920" height="1080">
          <image href="img/map2.jpeg" x="0" y="0" width="1920" height="1080" preserveAspectRatio="xMidYMid slice"/>
        </pattern>
      </defs>
      
      <!-- Capa base (map.jpeg) -->
      <rect id="layer1" x="0" y="0" width="1920" height="1080" fill="url(#mapLayer1)"/>
      
      <!-- Capa de detalle (map2.jpeg) - se muestra al hacer zoom -->
      <rect id="layer2" x="0" y="0" width="1920" height="1080" fill="url(#mapLayer2)" opacity="0"/>
      
      <!-- Grupo de marcadores - aparecen con zoom -->
      <g id="markersGroup" opacity="0">
        <!-- Marcador ejemplo: Capital - Coordenadas (960, 540) -->
        <g class="marker" data-x="960" data-y="540" data-name="Capital Central" data-icon="capital">
          <image href="img/icon-capital.png" x="944" y="524" width="32" height="32" preserveAspectRatio="xMidYMid meet"/>
        </g>
        
        <!-- Marcador ejemplo: Ciudad - Coordenadas (480, 270) -->
        <g class="marker" data-x="480" data-y="270" data-name="Ciudad Norte" data-icon="ciudad">
          <image href="img/icon-ciudad.png" x="464" y="254" width="32" height="32" preserveAspectRatio="xMidYMid meet"/>
        </g>
        
        <!-- Marcador ejemplo: Batalla - Coordenadas (1440, 810) -->
        <g class="marker" data-x="1440" data-y="810" data-name="Campo de Batalla" data-icon="batalla">
          <image href="img/icon-batalla.png" x="1424" y="794" width="32" height="32" preserveAspectRatio="xMidYMid meet"/>
        </g>
        
        <!-- Marcador ejemplo: Punto de interés - Coordenadas (1200, 400) -->
        <g class="marker" data-x="1200" data-y="400" data-name="Lugar de Interés" data-icon="interes">
          <image href="img/icon-interes.png" x="1184" y="384" width="32" height="32" preserveAspectRatio="xMidYMid meet"/>
        </g>
      </g>
    </svg>
  </div>

  <!-- Controles de zoom -->
  <div class="zoom-controls">
    <button id="zoomIn" aria-label="Acercar zoom">+</button>
    <button id="zoomReset" aria-label="Restablecer zoom">⊙</button>
    <button id="zoomOut" aria-label="Alejar zoom">−</button>
  </div>

  <!-- Info tooltip para marcadores -->
  <div id="markerTooltip" class="marker-tooltip" hidden></div>

  <script src="js/map.js" defer></script>
  <script src="js/markers.js" defer></script>
</body>
</html>